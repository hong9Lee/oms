# OMS AI Context

> Claude Agent ê¸°ë°˜ ë„ë©”ì¸ ì§€ì‹ ì²´ê³„í™” Â· ê°œë°œ/ë°°í¬ ìƒì‚°ì„± í–¥ìƒì„ ìœ„í•œ AI ì»¨í…ìŠ¤íŠ¸ ì‹œìŠ¤í…œ

| í•­ëª© | ë‚´ìš© |
|:---:|:---|
| **AI Agent** | [Claude Code](https://claude.ai/code) (Anthropic) |
| **Base Model** | Claude Opus 4.6 |
| **ë„ë©”ì¸** | OMS (Order Management System) MSA |
| **ì„œë¹„ìŠ¤** | oms-core (ì£¼ë¬¸ ì—”ì§„ Â· SSOT), oms-plan (ì™¸ë¶€ API ê²Œì´íŠ¸ì›¨ì´) |

> í˜„ì¬ Opus 4.6 ê¸°ì¤€ìœ¼ë¡œ ì»¨í…ìŠ¤íŠ¸ êµ¬ì¡°ì™€ ìŠ¤í‚¬ì„ ì„¤ê³„í–ˆë‹¤. ëª¨ë¸ ë²„ì „ì´ ì˜¬ë¼ê°€ë©´ í•´ë‹¹ ë²„ì „ì˜ íŠ¹ì„±(ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš°, ë„êµ¬ ì‚¬ìš© íŒ¨í„´ ë“±)ì— ë§ì¶° ê°œì„ í•´ ë‚˜ê°ˆ ì˜ˆì •ì´ë‹¤.

---

## Agent êµ¬ì¡° â€” ì™œ ì—­í• ì„ ë‚˜ëˆ„ëŠ”ê°€?

Claude Agent ì„¸ì…˜ì—ëŠ” í† í° í•œë„ê°€ ìˆë‹¤. ëª¨ë“  ì„œë¹„ìŠ¤ì˜ ì½”ë“œ ì»¨í…ìŠ¤íŠ¸ë¥¼ í•œ ë²ˆì— ë¡œë“œí•˜ë©´ ì •ì‘ ì‘ì—…ì— ì“¸ í† í°ì´ ë¶€ì¡±í•´ì§„ë‹¤.
ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ **ì—­í• ë³„ë¡œ ë¡œë“œ ë²”ìœ„ë¥¼ ë¶„ë¦¬**í–ˆë‹¤.

| ì—­í•  | ë¡œë“œ ì „ëµ | ìµœì í™” ëŒ€ìƒ |
|------|----------|-----------|
| **TPM** | ëª¨ë“  ì„œë¹„ìŠ¤ì˜ domain-overviewë¥¼ ì–•ê³  ë„“ê²Œ | ë¹„ì¦ˆë‹ˆìŠ¤ íë¦„ Â· ì˜í–¥ë„ ë¶„ì„ Â· ì„¤ê³„ ë¦¬ë·° |
| **Backend** | ì„ íƒí•œ ì„œë¹„ìŠ¤ì˜ ì½”ë“œ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì¢ê³  ê¹Šê²Œ | ì½”ë“œ ê°œë°œ Â· í…ŒìŠ¤íŠ¸ Â· ë””ë²„ê¹… |

- TPMì€ **ì„œë²„ë¥¼ ì„ íƒí•˜ì§€ ì•ŠëŠ”ë‹¤.** í¬ë¡œìŠ¤ì„œë¹„ìŠ¤ ê´€ì ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ì˜í–¥ë„ë¥¼ ë¶„ì„í•œë‹¤.
- BackendëŠ” **ì„œë²„ë¥¼ ì„ íƒí•œë‹¤.** í•´ë‹¹ ì„œë¹„ìŠ¤ì˜ ë°ì´í„° ëª¨ë¸, ê°œë°œ ê°€ì´ë“œ, API ìŠ¤í™ì„ ê¹Šê²Œ ë¡œë“œí•œë‹¤.

ì„¸ì…˜ ì‹œì‘ ì‹œ ì—­í•  ì„ íƒ â†’ í•„ìš”í•œ ì»¨í…ìŠ¤íŠ¸ë§Œ ë¡œë“œ â†’ **í† í°ì„ ì‹¤ì œ ì‘ì—…ì— ì§‘ì¤‘ íˆ¬ì**

---

## ê³µí†µí™” + ì˜¤ë²„ë¼ì´ë“œ íŒ¨í„´

```
oms/ (Root â€” ê³µí†µ ê·œì¹™)
â”œâ”€â”€ CLAUDE.md                  # Agent í–‰ë™ ê·œì¹™
â”œâ”€â”€ .claude/
â”‚   â”œâ”€â”€ settings.json          # Hooks + Auto Memory ì„¤ì • (ê³µìœ )
â”‚   â”œâ”€â”€ hooks/                 # GitÂ·íŒŒì¼ ë³´í˜¸ + ìë™ í¬ë§·íŒ… Hook
â”‚   â”œâ”€â”€ skills/                # ê³µí†µ ìŠ¤í‚¬ (develop, convention, test-guide, deploy)
â”‚   â”œâ”€â”€ rules/                 # ê²½ë¡œë³„ ê·œì¹™ ìë™ ë¡œë“œ (6ê°œ)
â”‚   â”œâ”€â”€ agents/                # ì»¤ìŠ¤í…€ ì„œë¸Œì—ì´ì „íŠ¸ (code-reviewer)
â”‚   â”œâ”€â”€ role/                  # ì—­í• ë³„ ê°€ì´ë“œ (TPM, Backend)
â”‚   â””â”€â”€ ai-context/            # ê³µí†µ ë„ë©”ì¸ ìš©ì–´, PR í…œí”Œë¦¿
â”‚
â”œâ”€â”€ oms-core/                  â† git clone (ì„œë¹„ìŠ¤ ì˜¤ë²„ë¼ì´ë“œ)
â”‚   â”œâ”€â”€ CLAUDE.md
â”‚   â””â”€â”€ .claude/ai-context/
â”‚       â”œâ”€â”€ development-guide.md   # DB, íŠ¸ëœì­ì…˜, Entity ì–´ë…¸í…Œì´ì…˜ ë“±
â”‚       â”œâ”€â”€ domain-overview.md     # ì„œë¹„ìŠ¤ ì—­í• Â·ì£¼ë¬¸ íë¦„
â”‚       â”œâ”€â”€ data-model.md          # ë„ë©”ì¸ ëª¨ë¸
â”‚       â”œâ”€â”€ api-spec.json          # REST API ëª…ì„¸
â”‚       â”œâ”€â”€ kafka-spec.json        # Kafka ì´ë²¤íŠ¸ ëª…ì„¸
â”‚       â””â”€â”€ ...
â”‚
â””â”€â”€ oms-plan/                  â† git clone (ì„œë¹„ìŠ¤ ì˜¤ë²„ë¼ì´ë“œ)
    â”œâ”€â”€ CLAUDE.md
    â””â”€â”€ .claude/ai-context/
        â””â”€â”€ ...
```

**ì›ì¹™:**
- **Root** â€” ëª¨ë“  ì„œë¹„ìŠ¤ì— ê³µí†µì¸ ê·œì¹™ (ì•„í‚¤í…ì²˜, ë„¤ì´ë°, git ê·œì¹™, ì½”ë“œ ì»¨ë²¤ì…˜)
- **ì„œë¹„ìŠ¤** â€” í•´ë‹¹ ì„œë¹„ìŠ¤ ê³ ìœ  ì˜¤ë²„ë¼ì´ë“œ (DB ì¢…ë¥˜, íŠ¸ëœì­ì…˜ ì„¤ì •, Entity ì–´ë…¸í…Œì´ì…˜ ë“±)
- ì¶©ëŒ ì‹œ **ì„œë¹„ìŠ¤ ì˜¤ë²„ë¼ì´ë“œê°€ ìš°ì„ **

ì„œë¹„ìŠ¤ë¥¼ ì¶”ê°€í•  ë•ŒëŠ” Root í•˜ìœ„ì— cloneí•˜ê³  `.claude/ai-context/`ë¥¼ êµ¬ì„±í•˜ë©´ ì¦‰ì‹œ ì¸ì‹ëœë‹¤.

---

## ì‹œì‘í•˜ê¸°

### 1. ì„¤ì¹˜

```bash
# Claude Code CLI
npm install -g @anthropic-ai/claude-code

# GitHub CLI (PR ìƒì„±ì— í•„ìš”)
brew install gh && gh auth login
```

### 2. í”„ë¡œì íŠ¸ ì„¸íŒ…

```bash
git clone https://github.com/hong9Lee/oms.git
cd oms
git clone https://github.com/hong9Lee/oms-core.git
git clone https://github.com/hong9Lee/oms-plan.git
```

### 3. ì‹¤í–‰

```bash
claude   # oms/ ë””ë ‰í† ë¦¬ì—ì„œ ì‹¤í–‰
```

ì²« ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ë©´ ì—­í•  ì„ íƒì§€ê°€ í‘œì‹œëœë‹¤. ì—­í• ì„ ì„ íƒí•˜ë©´ í•´ë‹¹ ì»¨í…ìŠ¤íŠ¸ê°€ ìë™ ë¡œë“œëœë‹¤.

---

## Rules â€” ê²½ë¡œë³„ ê·œì¹™ ìë™ ë¡œë“œ

`.claude/rules/` ë””ë ‰í† ë¦¬ì— YAML frontmatterë¡œ ê²½ë¡œ íŒ¨í„´ì„ ì§€ì •í•˜ë©´, **í•´ë‹¹ ê²½ë¡œì˜ íŒŒì¼ì„ ì‘ì—…í•  ë•Œ ê·œì¹™ì´ ìë™ ë¡œë“œ**ëœë‹¤.
ìŠ¤í‚¬(`/convention`)ì„ í˜¸ì¶œí•˜ì§€ ì•Šì•„ë„ ì»¨ë²¤ì…˜ì´ ì ìš©ëœë‹¤.

| Rule íŒŒì¼ | ì ìš© ê²½ë¡œ | í•µì‹¬ ê·œì¹™ |
|-----------|----------|----------|
| `controller.md` | `adapter/in/web/` | UseCase ì¸í„°í˜ì´ìŠ¤ ì£¼ì…, ResponseEntity ë°˜í™˜ |
| `kafka-consumer.md` | `adapter/in/kafka/` | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê¸ˆì§€, Command ë³€í™˜ë§Œ |
| `persistence.md` | `adapter/out/persistence/`, `infrastructure/` | MapStruct í•„ìˆ˜, Entity ì ‘ë¯¸ì‚¬ |
| `domain-model.md` | `domain/model/`, `domain/enums/` | @Setter ê¸ˆì§€, Tell Don't Ask |
| `service.md` | `application/service/` | ë©¤ë²„ ìˆœì„œ, @Transactional |
| `test.md` | `src/test/` | í•œê¸€ ë©”ì„œë“œëª…, @Nested, Fixture |

**í† í° íš¨ìœ¨:** íŒŒì¼ë‹¹ ~100í† í°(5~7ì¤„ í•µì‹¬ ìš”ì•½)ë§Œ ë¡œë“œ. `/convention` ìŠ¤í‚¬ ì „ì²´(~800í† í°)ë¥¼ ë§¤ë²ˆ ë¡œë“œí•  í•„ìš” ì—†ìŒ.

---

## Agents â€” ì»¤ìŠ¤í…€ ì„œë¸Œì—ì´ì „íŠ¸

`.claude/agents/` ë””ë ‰í† ë¦¬ì— ì„œë¸Œì—ì´ì „íŠ¸ë¥¼ ì •ì˜í•œë‹¤. ë©”ì¸ ì„¸ì…˜ê³¼ **ë³„ë„ ì»¨í…ìŠ¤íŠ¸**ì—ì„œ ì‹¤í–‰ë˜ì–´ ë©”ì¸ í† í°ì„ ì†Œëª¨í•˜ì§€ ì•ŠëŠ”ë‹¤.

| Agent | ëª¨ë¸ | í—ˆìš© ë„êµ¬ | ìš©ë„ |
|-------|------|----------|------|
| `code-reviewer` | sonnet | Read, Grep, Glob | ì•„í‚¤í…ì²˜Â·ì»¨ë²¤ì…˜ ê¸°ì¤€ ì½”ë“œ ë¦¬ë·° |

**íŠ¹ì§•:**
- Edit/Write/Bash ê¶Œí•œ ì—†ìŒ â†’ ì½”ë“œ ìˆ˜ì • ë¶ˆê°€, ë¶„ì„ë§Œ ìˆ˜í–‰
- sonnet ëª¨ë¸ â†’ opus ëŒ€ë¹„ ë¹ ë¥¸ ì‘ë‹µ, ë‚®ì€ ë¹„ìš©
- ë¦¬ë·° ê²°ê³¼: ğŸ”´ Critical / ğŸŸ¡ Warning / ğŸŸ¢ Suggestion

---

## Hooks â€” ì•ˆì „ì¥ì¹˜ + ìë™í™”

`.claude/hooks/` ë””ë ‰í† ë¦¬ì— Hookì´ ì„¤ì •ë˜ì–´ ìˆë‹¤. ëª¨ë‘ command íƒ€ì…ìœ¼ë¡œ **í† í° ë¹„ìš© 0**, ì…¸ì—ì„œ ì§ì ‘ ì‹¤í–‰ëœë‹¤.

### PreToolUse â€” ìœ„í—˜ ë™ì‘ ì‚¬ì „ ì°¨ë‹¨

| Hook | ëŒ€ìƒ | ë™ì‘ |
|------|------|------|
| `protect-git.sh` | Bash (git/gh) | main ì»¤ë°‹/push, `gh pr merge`, ë¸Œëœì¹˜ ë„¤ì´ë° ìœ„ë°˜ â†’ **ì°¨ë‹¨** |
| `protect-manual-only.sh` | Edit/Write | SKILL.md, CLAUDE.md, role README ë“± â†’ **ì‚¬ìš©ì í™•ì¸ ìš”ì²­** |

### PostToolUse â€” ìë™ í›„ì²˜ë¦¬

| Hook | ëŒ€ìƒ | ë™ì‘ |
|------|------|------|
| `auto-spotless.sh` | Edit/Write (.java) | Java íŒŒì¼ ìˆ˜ì • í›„ Spotless ìë™ í¬ë§·íŒ… |

Agentê°€ í¬ë§·íŒ… ëª…ë ¹ì„ ë³„ë„ë¡œ ì‹¤í–‰í•  í•„ìš” ì—†ìŒ â†’ íŒë‹¨ + ì‹¤í–‰ í† í° ì ˆì•½.

### PreCompact â€” ì»¨í…ìŠ¤íŠ¸ ì••ì¶• ì‹œ í•µì‹¬ ê·œì¹™ ì¬ì£¼ì…

| Hook | ë™ì‘ |
|------|------|
| `pre-compact.sh` | ì••ì¶• ì‹œ OMS í•µì‹¬ ê·œì¹™(ì•„í‚¤í…ì²˜, ì»¨ë²¤ì…˜, git)ì„ ~50í† í°ìœ¼ë¡œ ì¬ì£¼ì… |

ê¸´ ì„¸ì…˜ì—ì„œ ì••ì¶• í›„ì—ë„ í•µì‹¬ ê·œì¹™ì´ ìœ ì§€ëœë‹¤. CLAUDE.mdë¥¼ ë‹¤ì‹œ ì½ëŠ” ë¹„ìš©(ìˆ˜ë°± í† í°) ì ˆì•½.

---

## Auto Memory â€” ì„¸ì…˜ ê°„ í•™ìŠµ ìœ ì§€

`settings.json`ì— `autoMemoryEnabled: true`ê°€ ì„¤ì •ë˜ì–´ ìˆë‹¤.
Agentê°€ ì„¸ì…˜ì—ì„œ í•™ìŠµí•œ ë‚´ìš©(í”„ë¡œì íŠ¸ íŠ¹ì´ì‚¬í•­, ì‚¬ìš©ì ì„ í˜¸ ë“±)ì„ `MEMORY.md`ì— ìë™ ì €ì¥í•˜ê³ , ë‹¤ìŒ ì„¸ì…˜ ì‹œì‘ ì‹œ ìë™ ë¡œë“œí•œë‹¤.

- ë°˜ë³µ ì„¤ëª… ë¶ˆí•„ìš” (ì˜ˆ: "ì´ í”„ë¡œì íŠ¸ëŠ” MongoDBì•¼")
- ì„¸ì…˜ ì‹œì‘ ì‹œ ìµœëŒ€ 200ì¤„ ë¡œë“œ (~1000í† í°)

---

## í™•ì¥ â€” Jira ì—°ë™ (MCP)

Claude CodeëŠ” [MCP (Model Context Protocol)](https://modelcontextprotocol.io) ì„œë²„ë¥¼ í†µí•´ ì™¸ë¶€ ë„êµ¬ì™€ ì—°ë™í•  ìˆ˜ ìˆë‹¤.
Jiraë¥¼ ì—°ë™í•˜ë©´ ì´ìŠˆ ì¡°íšŒÂ·ì½”ë©˜íŠ¸Â·ìƒíƒœ ë³€ê²½ì„ Agentê°€ ì§ì ‘ ìˆ˜í–‰í•œë‹¤.

### ì„¤ì •

**íŒŒì¼ ìœ„ì¹˜:** í”„ë¡œì íŠ¸ ë ˆë²¨ `.mcp.json` (Rootì— ìƒì„±) ë˜ëŠ” ì „ì—­ `~/.claude/mcp.json`

```json
{
  "mcpServers": {
    "jira": {
      "command": "npx",
      "args": ["-y", "mcp-jira-server"],
      "env": {
        "JIRA_HOST": "https://your-domain.atlassian.net",
        "JIRA_EMAIL": "your-email@example.com",
        "JIRA_API_TOKEN": "${JIRA_API_TOKEN}"
      }
    }
  }
}
```

> **API í† í°ì€ í™˜ê²½ë³€ìˆ˜ë¡œ ì£¼ì…í•œë‹¤.** `.mcp.json`ì— í† í°ì„ ì§ì ‘ ì‘ì„±í•˜ì§€ ì•ŠëŠ”ë‹¤.
>
> API í† í° ë°œê¸‰: [Atlassian Account Settings](https://id.atlassian.com/manage-profile/security/api-tokens)

### CLIë¡œ ì¶”ê°€í•˜ëŠ” ë°©ë²•

```bash
claude mcp add jira -- npx -y mcp-jira-server
```

ì—°ë™ í›„ Agentì—ê²Œ `"OMS í”„ë¡œì íŠ¸ì˜ ì—´ë¦° ì´ìŠˆ ì¡°íšŒí•´ì¤˜"`, `"ì´ PRì„ OMS-123 ì´ìŠˆì— ì—°ê²°í•´ì¤˜"` ë“±ì„ ìš”ì²­í•  ìˆ˜ ìˆë‹¤.

---

## ìŠ¤í‚¬ ëª©ë¡

| ìŠ¤í‚¬ | ì„¤ëª… |
|------|------|
| `/develop` | ë¹Œë“œ, ì•„í‚¤í…ì²˜, git ê·œì¹™ |
| `/convention` | ì½”ë“œ ì‘ì„± ì»¨ë²¤ì…˜ (ë„¤ì´ë°, record, MapStruct) |
| `/test-guide` | í…ŒìŠ¤íŠ¸ êµ¬ì¡° ì»¨ë²¤ì…˜ (í•œê¸€ ë©”ì„œë“œëª…, Fixture, Fake) |
| `/deploy` | 6ë‹¨ê³„ ë°°í¬ ì ˆì°¨ |
